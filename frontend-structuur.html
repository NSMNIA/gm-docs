<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Structuur ‚Äì Platform Generator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.min.css">
</head>

<body>
    <main>
        <div class="pg__doc">
            <div class="pg__doc--title">Platform Generator</div>
            <ul class="pg__doc--menu">
                <li class="pg__doc--menu-item">
                    <span class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                        Installatie
                    </span>
                    <ul class="pg__doc--menu-item--list">
                        <li class="pg__doc--menu-item--list__item">
                            <a href="index.html" class="pg__doc--link">
                                Getting Started
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="pg__doc--menu-item">
                    <span class="active">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                        Front-end
                    </span>
                    <ul class="pg__doc--menu-item--list">
                        <li class="pg__doc--menu-item--list__item">
                            <a href="frontend-structuur.html" class="pg__doc--link active">
                                Structuur
                            </a>
                        </li>
                        <li class="pg__doc--menu-item--list__item">
                            <a href="frontend-componenten.html" class="pg__doc--link">
                                Componenten
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="pg__doc--menu-item">
                    <span class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                        Back-end
                    </span>
                    <ul class="pg__doc--menu-item--list">
                        <li class="pg__doc--menu-item--list__item">
                            <a href="backend-strapi.html" class="pg__doc--link">
                                Over Strapi
                            </a>
                        </li>
                        <li class="pg__doc--menu-item--list__item">
                            <a href="backend-database.html" class="pg__doc--link">
                                Database
                            </a>
                        </li>
                    </ul>
                </li>

                <li class="pg__doc--menu-item">
                    <span class="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                        Skeleton
                    </span>
                    <ul class="pg__doc--menu-item--list">
                        <li class="pg__doc--menu-item--list__item">
                            <a href="skeleton.html" class="pg__doc--link">
                                Skeleton updaten
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
        <div class="pg__content">
            <h1>Front-end structuur</h1>
            <p>Deze pagina is een overzicht van de structuur van de front-end.</p>
            <p><a href="https://reactjs.org/docs/getting-started.html" target="_blank" class="pg__link">ReactJS</a> is opgebouwd vanuit componenten. Zodra de front-end gegenereerd is via de Platform generator zijn er een aantal componenten die vooraf gemaakt
                zijn. Deze componenten worden pas ge√Ømporteerd als de systeem variabelen <i>(.env)</i> true of false zijn.</p>
            <hr>
            <ul class="pg__toc">
                <li><a href="#routing" class="pg__link">Routing</a></li>
                <li><a href="#pages" class="pg__link">Pagina's</a></li>
                <li><a href="#components" class="pg__link">Componenten</a></li>
                <li><a href="#svr" class="pg__link">Systeem variabele route</a></li>
            </ul>
            <hr>
            <h2 id="routing">Routing</h2>
            <p>
                Het routingsysteem is te vinden in <i>/src/index.js</i>. In de routing worden de navigatie, pagina's, footer en routes bepaald.
                Een route moet worden toegevoegd op de volgende manier:
            </p>
            <pre><xmp>// pages
import Home from './pages/Home';
...
ReactDOM.render(
...
    <Router>
        ...
        <Switch>
            ...
            <Route exact path='/' component={Home}></Route>
            ...
        </Switch>
        ...
    </Router>
...
)</xmp></pre>
            <blockquote>
                <p>üëç Tip van Kevin</p>
                <p>
                    <i>Route</i> is een ReactJS component van <i>react-router-dom</i>. De variabele <i>path</i> specificeert een padnaam
                    die we aan onze component toewijzen. De variabele <i>component</i> verwijst naar de component die wordt weergegeven bij het matchen van het pad.
                </p>
            </blockquote>
            <hr>
            <h2 id="pages">Pagina's</h2>
            <p>
                De front-end pagina's zijn te vinden in <i>/src/pages</i>. Na de installatie zijn er twee mappen aangemaakt, namelijk
                <i>blog</i> en <i>eCommerce</i>. Ook zie je twee <i>.js</i> bestanden, <i>Home.js</i> en <i>NotFound.js</i>.
            </p>
            <h3>Pagina aanmaken</h3>
            <p>
                Om een extra pagina aan te maken, bijvoorbeeld <i>About.js</i> moet deze in de hoofdmap <i>(/src/pages)</i> geplaatst
                worden, dus bij <i>Home.js</i> en <i>NotFound.js</i>. Pagina's moeten altijd met een hoofdletter beginnen.
            </p>
            <blockquote>
                <p>üëç Tip van Kevin</p>
                <p>
                    Met VS code kunnen gemakkelijk nieuwe pagina's worden opgebouwd. Download
                    <a href="https://marketplace.visualstudio.com/items?itemName=dsznajder.es7-react-js-snippets" target="_blank" class="pg__link">React
                        Snippets</a>
                    en maak <i>About.js</i> aan. Typ daarna <i>rafce</i> en druk op tab. Wat hieronder staat wordt automatisch toegoevoegd.
                </p>
            </blockquote>
            <pre><xmp>// About.js
import React from 'react'

const About = () => {
    return (
        <div>

        </div>
    )
}

export default About
            </xmp></pre>
            <hr>
            <h2 id="components">Componenten</h2>
            <p>
                ReactJS maakt gebruik van componenten. Dit maakt het handig want dan kan de component herbruikt worden. In de map <i>/src/components</i> zijn alle componenten te vinden.
                Deze zijn opgedeeld in mappen, het idee hierachter is dat er meerdere verschillende componenten gemaakt kunnen worden voor bijvoorbeeld de navigatie. Als deze componenten dan gemaakt worden
                kunnen deze opgeslagen worden in de Git repo en ook in andere projecten gebruikt kunnen worden. De bedoeling is dan dat er meerdere componenten zijn voor navigatie maar er maar een van gebruikt wordt in een platform. Hierbij kan er bij
                het volgende project bijvoorbeeld een andere navigatie aangeroepen worden. Zodat de eindgebruiker niet opnieuw een component hoeft te maken en alles opnieuw hoeft toe te voegen.
            </p>
            <p>
                Componenten moeten op dezelfde manier worden aangemaakt als <a href="#pages" class="pg__link">pagina's</a>. Naast de component moet er ook stijling worden toegevoegd met dezelfde naamgeving. Deze moet niet ge√Ømporteerd worden in de main <i>style.scss</i>. Deze moeten op de
                volgende manier worden aangeroepen.
            </p>
            <pre><xmp>// Navigation.js
import './Navigation.scss';</xmp></pre>
            <p>
                Als de <i>scss</i> zo wordt aangeroepen dan wordt die alleen ge√Ømporteerd als de component gebruikt wordt. Dit zorgt voor een uiteindelijk minder grote main <i>style.scss</i> en
                hierdoor laadt de site dus sneller. Hetzelfde geldt voor de componenten, als die niet worden aangeroepen dan gaat de <i>production</i> versie deze niet inladen en wordt de website minder groot.
            </p>
            <blockquote>
                <p>üëç Tip van Kevin</p>
                <p>
                    Een goed voorbeeld van hoe components werken is de component <i>Image</i>. Deze is te vinden in <i>/src/components/functions</i>. In heel het project komt vaak <i>Image</i> terug in plaats dan de normale <i>img</i> tag. De component
                    <i>Image</i> zorgt er voor dat er een placeholder komt voor een afbeelding als deze nog niet geladen is. De placeholder verdwijnt zodra de afbeelding volledig geladen is en op die zelfde plek verschijnt dan
                    een <i>img</i> tag.
                </p>
            </blockquote>
            <p>
                Als er een component wordt aangemaakt moet dit zo dynamisch mogelijk. Door dit te doen kan de component makkelijk herbruikt worden. Geef variabelen aan in de functie en vul
                deze in via de volgende manier:
            </p>
<pre><xmp>import { Image } from '../../functions/Image';
...
<Image src={URL} alt={ALT} fit="cover" />
</xmp></pre>
            <p>
                In de component <i>Image</i> worden de <i>src</i>, <i>alt</i> en eventueel <i>fit</i> gebruikt in de functie.
            </p>
<pre><xmp>// Image.js
import React, { useState } from 'react'
import Skeleton from 'react-loading-skeleton';

export const Image = ({src, alt, fit = 'cover'}) => {
    const [loaded, setLoaded] = useState(false);
    return (
        <>
            <Skeleton className="image" style={loaded ? { display: 'none' } : {width: '100%' , height: '100%' , display: 'block' }} />
            <img style={loaded ? {width: '100%' , height: '100%' , display: 'block' , objectFit: fit, objectPosition: 'center' } : {display: 'none' }} onLoad={()=>setLoaded(true)} className="image" src={process.env.REACT_APP_SERVER_URL + src} alt={alt}/>
        </>
    )
}</xmp></pre>
            <hr>
            <h2 id="svr">Systeem variabele route</h2>
            <p>
                In het <i>.env</i> bestand worden de variabelen van de Platform Generator ingezet. Deze kunnen altijd aangepast worden. Het <i>.env</i> bestand heeft vier heel belanrijke variabelen.
                Deze variabelen bepalen namelijk het hele systeem. Het gaat om <i>REACT_APP_PROGRESSIVE_WEB_APP</i>, <i>REACT_APP_ECOMMERCE</i>, <i>REACT_APP_CALENDAR</i> en <i>REACT_APP_BLOG</i>.
                Deze variabelen kunnen <i>true</i> of <i>false</i> zijn. Dus als het platform een Progressive Web App moet zijn moet <i>REACT_APP_PROGRESSIVE_WEB_APP</i> op <i>true</i> worden gezet.
            </p>
            <pre><xmp>REACT_APP_PROGRESSIVE_WEB_APP=true</xmp></pre>
            <blockquote>
                <p>üëç Tip van Kevin</p>
                <p>Als deze vier variabelen worden aangepast moet de <i>NPM server</i> restarten.</p>
            </blockquote>
            <p>
                In de code wordt er gekeken naar deze variabelen. Bijvoorbeeld bij <i>REACT_APP_PROGRESSIVE_WEB_APP</i>:
            </p>
            <pre><xmp>process.env.REACT_APP_PROGRESSIVE_WEB_APP === 'true' ? serviceWorkerRegistration.register() : serviceWorkerRegistration.unregister();</xmp></pre>
            <p>
                Dit doen de variabelen:
            </p>
            <ul>
                <li>
                    <b>REACT_APP_ECOMMERCE: </b> bepaalt of de website een webshop met producten moet worden.
                </li>
                <li>
                    <b>REACT_APP_CALENDAR: </b> bepaalt of de webshop een bookingsysteem moet worden.
                </li>
                <li>
                    <b>REACT_APP_BLOG: </b> bepaalt of de website een blog moet hebben.
                </li>
                <li>
                    <b>REACT_APP_PROGRESSIVE_WEB_APP: </b> bepaalt of de website een Progressive Web App moet zijn.
                </li>
            </ul>
            <blockquote>
                <p>üëç Tip van Kevin</p>
                <p>
                    Als <i>REACT_APP_ECOMMERCE</i> niet <i>true</i> is dan maakt de waarde van <i>REACT_APP_CALENDAR</i> niks uit!
                </p>
            </blockquote>
            <h3>Routes voor systeem variabelen</h3>
            <p>
                De routes van de systeem variabelen zijn vooraf al bepaald, maar er kunnen ook nog extra routes worden toegevoegd. Een route wordt via deze manier gemaakt:
            </p>
            <pre><xmp>{process.env.REACT_APP_ECOMMERCE === 'true' ? (process.env.REACT_APP_CALENDAR !== 'true' ? <Route exact path='/products' component={Products}></Route> : <Route exact path='/bookings' component={Products}></Route>) : null}</xmp></pre>
            <p>
                <b>Uitleg: </b> Als <i>REACT_APP_ECOMMERCE</i> gelijk is aan <i>true</i> dan moet er een route komen. Nu is het zo dat <i>REACT_APP_CALENDAR</i> ook <i>true</i> of <i>false</i> kan zijn.
                Als deze variabele <i>true</i> is dan moet er een route komen met het pad <i>/bookings</i>, zo niet dan moet het pad <i>/products</i> worden.
            </p>
            <h3>Systeem variabele componenten</h3>
            <p>
                Alle pagina's in de mappen <i>/src/pages/blog</i> en <i>/src/pages/eCommerce</i> zijn dynamisch gemaakt met het gebruik van de syteem variabelen. In de meeste van deze pagina's wordt dat
                data vanuit de back-end gehaald. Dit gebeurt met <i>Socket.io</i>. Lees hier de informatie over <a href="frontend-componenten.html#systeem-variabele-componenten" class="pg__link">de gemaakte systeem componenten</a>.
            </p>
            <div class="pg__buttons">
                <a class="pg__button--redirect back" href="index.html">
                    Ga terug naar Getting Started.
                </a>
                <a class="pg__button--redirect forward" href="frontend-componenten.html">
                    Ga naar Componenten.
                </a>
            </div>
        </div>
    </main>
    <script src="assets/js/main.ob.js"></script>
</body>

</html>